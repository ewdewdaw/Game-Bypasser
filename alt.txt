-- Carter's DHC Executor Script
-- Designed for Delta and other mobile executors

local HttpService = game:GetService("HttpService")
local RunService = game:GetService("RunService")

-- Function to make screen black
local function makeScreenBlack()
    if game:GetService("CoreGui") then
        local screenGui = Instance.new("ScreenGui")
        screenGui.Name = "BlackScreenGui"
        screenGui.IgnoreGuiInset = true
        screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
        
        local frame = Instance.new("Frame")
        frame.Size = UDim2.new(1, 0, 1, 0)
        frame.BackgroundColor3 = Color3.new(0, 0, 0)
        frame.BorderSizePixel = 0
        frame.Parent = screenGui
        
        screenGui.Parent = game:GetService("CoreGui")
    end
end

-- Function to check and execute scripts from Firebase
local function checkAndExecuteScript()
    local url = "https://omebgle-default-rtdb.firebaseio.com/script.json"
    
    local success, response = pcall(function()
        return game:HttpGet(url, true)
    end)
    
    if success then
        local data = HttpService:JSONDecode(response)
        if data and data.code and data.code ~= "" then
            -- Execute the script
            local executeSuccess, errorMsg = pcall(function()
                loadstring(data.code)()
            end)
            
            if not executeSuccess then
                warn("Script execution error: " .. errorMsg)
            else
                -- Clear the script from DB after successful execution
                pcall(function()
                    local clearSuccess = game:HttpPost(url, '{"code":""}', "application/json", false)
                end)
            end
        end
    else
        warn("Failed to fetch from database: " .. response)
    end
end

-- Initial setup
makeScreenBlack()

-- Set up periodic checking
local checkInterval = 5
local lastCheck = tick()

RunService.Heartbeat:Connect(function()
    if tick() - lastCheck >= checkInterval then
        lastCheck = tick()
        checkAndExecuteScript()
    end
end)

print("Carter's DHC Alt Controller loaded successfully!")
print("Checking for new scripts every 5 seconds...")
